---
import { Picture } from "@astrojs/image/components"

import darkScreenshot from "../assets/images/columns-ui-dark.png"
import lightScreenshot from "../assets/images/columns-ui-light.png"
import DownloadLayout from "../layouts/DownloadLayout.astro"
import { DownloadList, DownloadListItem, Screenshots } from "../components"

const title = "Columns UI"
const description =
  "Columns UI – alternative UI for the foobar2000 audio player"
const repo = "columns_ui"

const screenshotHeight = `${(
  (darkScreenshot.height * 300) /
  darkScreenshot.width
).toFixed(0)}px`
---

<style define:vars={{ screenshotHeight }}>
  .screenshot {
    width: 300px;
    height: var(--screenshotHeight);
  }
</style>

<DownloadLayout
  title={title}
  metaDescription={description}
  repo={repo}
  links={[
    {
      href: `https://github.com/reupen/${repo}/releases`,
      label: "Release notes",
    },
    {
      href: "https://wiki.yuo.be/columns_ui:faqs",
      label: "Frequently asked questions",
    },
    {
      href: "https://hydrogenaud.io/index.php/topic,28647.0.html",
      label: "Discussion at the foobar2000 forums",
    },
  ]}
>
  <Screenshots>
    <a href={darkScreenshot.src} class="screenshot">
      <Picture
        src={darkScreenshot}
        widths={[300, 600, 900]}
        title="Columns UI in dark mode"
        alt="Columns UI in dark mode"
      />
    </a>
    <a href={lightScreenshot.src} class="screenshot">
      <Picture
        src={lightScreenshot}
        widths={[300, 600, 900]}
        title="Columns UI in light mode"
        alt="Columns UI in light mode"
      />
    </a>
  </Screenshots>

  <p>Columns UI is a user interface for the foobar2000 audio player.</p>
  <p>Features include:</p>
  <ul>
    <li>a dark mode on Windows 10 and 11</li>
    <li>a playlist view with grouping, artwork and in-line metadata editing</li>
    <li>interchangeable panels and toolbars</li>
    <li>
      filter panels to quickly filter your media library by genre, artist or
      other fields
    </li>
    <li>
      item details and properties panels to view detailed track information
    </li>
  </ul>
  <h3 class="title is-3">Requirements</h3>
  <ul>
    <li>Windows 7 Service Pack 1 or later</li>
    <li>foobar2000 1.5 or newer</li>
  </ul>

  <h3 class="title is-3">Downloads</h3>

  <h4 class="title is-4">Latest version</h4>
  <DownloadList>
    <DownloadListItem
      filename="foo_ui_columns-2.1.0.x86-x64.fb2k-component"
      label="Version 2.1.0"
    />
  </DownloadList>

  <p>
    <a href="https://github.com/reupen/columns_ui/releases">
      Read the release notes if updating from version 1.3.0 or older.
    </a>
  </p>

  <h4 class="title is-4">Previous versions</h4>
  <DownloadList>
    <DownloadListItem
      filename="foo_ui_columns-2.1.0-beta.3.x86-x64.fb2k-component"
      label="Version 2.1.0 beta 3"
    />
    <DownloadListItem
      filename="foo_ui_columns-2.0.0.x86-x64.fb2k-component"
      label="Version 2.0.0"
    />
    <DownloadListItem
      filename="foo_ui_columns-1.7.0.fb2k-component"
      label="Version 1.7.0"
    />
    <DownloadListItem
      filename="foo_ui_columns-1.6.0.fb2k-component"
      label="Version 1.6.0"
    />
    <DownloadListItem
      filename="foo_ui_columns-1.4.1.fb2k-component"
      label="Version 1.4.1"
    />
    <DownloadListItem
      filename="foo_ui_columns-1.3.0.fb2k-component"
      label="Version 1.3.0"
    />
    <DownloadListItem
      filename="foo_ui_columns-0.5.1.fb2k-component"
      label="Version 0.5.1"
    >
      <span slot="suffix">– the last version compatible with Windows XP</span>
    </DownloadListItem>
  </DownloadList>
</DownloadLayout>
